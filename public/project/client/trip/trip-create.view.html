<h1>Trip to {{model.trip.city}}</h1>


<div class="row">
	<div class="col-sm-7 col-md-7">
		<div class="form-group">
			<div class="input-group">
				<input g-places-autocomplete ng-model="model.newPlace" type="text" class="form-control" placeholder="Add places of interest">
				<span class="input-group-btn">
					<button class="btn btn-success" type="button"
					ng-click="model.addPlace(model.newPlace)">
					<span class="glyphicon glyphicon-plus"></span>
				</button>
				</span>
			</div>
		</div>
	</div>
	<div class="col-sm-5 col-md-5">
		<button class="btn btn-primary" type="button" ng-click="model.addDay()">
			Add Day
		</button>
		<a href="#/trip/{{model.trip._id}}/collaborate">
			<button class="btn btn-primary" type="button">
				Collaborate
			</button>
		</a>
	</div>
</div>

<div class="row">
	<div class="col-sm-7 col-md-7">
		<div ng-repeat="day in model.trip.days" class="panel panel-default">
			<div class="panel-heading">
				<div class="pull-right">
					<button class="btn btn-default btn-xs" type="button" ng-click="model.setDayIndex($index)">
						Add Here
					</button>
					<button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="model.deleteDay($index)">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<h3 class="panel-title">Day {{$index+1}}</h3>
			</div>
			<div ng-repeat="place in day.places" class="panel-body">
				<div class="panel panel-default">
					<div class="panel-body">
						{{place.name}}
						<div class="pull-right">
							<button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="model.deletePlace($parent.$index, $index)">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-sm-5 col-md-5">
		<div class="row">
			<ui-gmap-google-map center="model.map.center" zoom="model.map.zoom">
				<ui-gmap-markers models="model.markers" coords="'self'" icon="'icon'" fit="true">
				</ui-gmap-markers>
			</ui-gmap-google-map>
		</div>
		<div class="row">
			<h4>Reviews</h4>
			<div class="input-group">
				<select class="form-control" ng-model="model.review.rating">
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
				</select>
				<span class="input-group-btn">
				<button class="btn btn-default" type="button" ng-click="model.addReview()">
					Add Comment
				</button>
			</span>
			</div>
			<textarea class="form-control" placeHolder="Comment..." ng-model="model.review.comment">
			</textarea>
		</div>
	</div>
</div>
</div>